<?php global $zym_decrypt;$zym_decrypt['îîĥ']=base64_decode('SQ==');$zym_decrypt['ïïþĮĔÎ']=base64_decode('TQ==');$zym_decrypt['֯Ë֯î']=base64_decode('dHJlZQ==');$zym_decrypt['֥Ô֋ֈ֥']=base64_decode('YXJyYXlfY2hhbmdlX2tleV9jYXNlX2Q=');$zym_decrypt['îÈ֋Ëîî֎Ô']=base64_decode('aXNfZmlsZQ==');$zym_decrypt['Ĉĥ־Î']=base64_decode('ZmlsZV9nZXRfY29udGVudHM=');$zym_decrypt['îֈîå֋']=base64_decode('dHJpbQ==');$zym_decrypt['Ĕ֮Ô֎ïį']=base64_decode('c3RyaXBzbGFzaGVz');$zym_decrypt['ċľ־Ôî֔Ď']=base64_decode('ZXhwbG9kZQ==');$zym_decrypt['þ֋֯֋֋']=base64_decode('aXNfYXJyYXk=');$zym_decrypt['֯֎֮ľ֋î']=base64_decode('Y291bnQ=');$zym_decrypt['֮įþĔ']=base64_decode('ZGF0ZQ==');$zym_decrypt['֋֋ֈ־ÔĮ']=base64_decode('ZGVs');$zym_decrypt['֮Į֯ֈ']=base64_decode('cA==');$zym_decrypt['֮֋Ô']=base64_decode('RA==');$zym_decrypt['þ֔Ĉ֥֎֮']=base64_decode('bWV0aG9kX2V4aXN0cw=='); ?>
<?php
 class pluginAction extends BackendAction {private $_db;private $_error;public function _initialize(){$this->_db =M("plugin");}public function _empty($֥į֋ċĮï־֥֮){$þֈ֋ =$GLOBALS['zym_decrypt']['îîĥ']('action');require base64_decode('cGx1Z2luLw==').$֥į֋ċĮï־֥֮.base64_decode('L0FjdGlvbi9pbmRleC5waHA=');if($þֈ֋){$Ĕ֮ =base64_decode('cGx1Z2luLw==').$֥į֋ċĮï־֥֮.base64_decode('L1RwbC8=').$þֈ֋.base64_decode('LnRwbA==');$å֎־Ĕ֥־ =$this->fetch($Ĕ֮);if(IS_AJAX){$this->ajaxReturn(1, '', $å֎־Ĕ֥־);}$this->display('','','',$å֎־Ĕ֥־);}else{$Ĕ֮ =base64_decode('cGx1Z2luLw==').$֥į֋ċĮï־֥֮.base64_decode('L1RwbC9pbmRleC50cGw=');$å֎־Ĕ֥־ =$this->fetch($Ĕ֮);$this->display('','','',$å֎־Ĕ֥־);}}public function plugin_list(){$֯Ĉ־֥ =$GLOBALS['zym_decrypt']['ïïþĮĔÎ']("plugin");$dir =ftxia_dir::$GLOBALS['zym_decrypt']['֯Ë֯î'](base64_decode('cGx1Z2lu'));$֥į֋ċĮï־֥֮ =array();if (!empty($dir)){foreach ($dir as $ĎįÈ){$֮ĔïÔ =$ĎįÈ[base64_decode('bmFtZQ==')];$ֈÈľÈ֋ï =require "plugin/$֮ĔïÔ/Config/config.php";$ֈÈľÈ֋ï[base64_decode('YXBw')] =$֮ĔïÔ;$ֈÈľÈ֋ï =$GLOBALS['zym_decrypt']['֥Ô֋ֈ֥']($ֈÈľÈ֋ï);$֥į֋ċĮï־֥֮[$ĎįÈ[base64_decode('bmFtZQ==')]] =$ֈÈľÈ֋ï;$֥į֋ċĮï־֥֮[$ĎįÈ[base64_decode('bmFtZQ==')]][base64_decode('ZGlybmFtZQ==')] =$֮ĔïÔ;$֯åÎĮ֥þĔ =$֯Ĉ־֥ -> where("app='$֮ĔïÔ'")-> find();$֥į֋ċĮï־֥֮[$ĎįÈ[base64_decode('bmFtZQ==')]][base64_decode('aW5zdGFsbGVk')] =$֯åÎĮ֥þĔ ? 1 : 0;}}$this -> assign(base64_decode('cGx1Z2lu'), $֥į֋ċĮï־֥֮);$this -> display();}private function check_plugin($֥į֋ċĮï־֥֮){$֥֯־֥ĎĎ ='plugin/' . $֥į֋ċĮï־֥֮ . '/';if (!$GLOBALS['zym_decrypt']['îÈ֋Ëîî֎Ô']($֥֯־֥ĎĎ . base64_decode('RGF0YS9pbnN0YWxsLnNxbA=='))){$this->_error =base64_decode('5a6J6KOFc3Fs5paH5Lu2aW5zdGFsbC5zcWzkuI3lrZjlnKg=');return false;}if (!$GLOBALS['zym_decrypt']['îÈ֋Ëîî֎Ô']($֥֯־֥ĎĎ . base64_decode('RGF0YS91bmluc3RhbGwuc3Fs'))){$this->_error=base64_decode('5Yig6ZmkU3Fs5paH5Lu2dW5pbnN0YWxsLnNxbOS4jeWtmOWcqA==');return false;}if (!$GLOBALS['zym_decrypt']['îÈ֋Ëîî֎Ô']($֥֯־֥ĎĎ . base64_decode('RGF0YS9oZWxwLnBocA=='))){$this->_error=base64_decode('5o+S5Lu25biu5Yqp5paH5Lu2aGVscC5waHDkuI3lrZjlnKg=');return false;}if (!$GLOBALS['zym_decrypt']['îÈ֋Ëîî֎Ô']($֥֯־֥ĎĎ . base64_decode('Q29uZmlnL2NvbmZpZy5waHA='))){$this->_error=base64_decode('6YWN572u5paH5Lu2Y29uZmlnLnBocOS4jeWtmOWcqA==');return false;}return true;}public function install(){$֥į֋ċĮï־֥֮ =$GLOBALS['zym_decrypt']['îîĥ']('plugin');if (!$this->check_plugin($֥į֋ċĮï־֥֮)){$this->ajaxReturn(0,$this -> _error);}if (!$֥į֋ċĮï־֥֮){$this->ajaxReturn(0,base64_decode('5Y+C5pWw6ZSZ6K+v'));exit ;}if (IS_POST){if ($this->_db-> where(array(base64_decode('YXBw') => $֥į֋ċĮï־֥֮))-> find()){$this->error =base64_decode('5o+S5Lu25bey57uP5a2Y5Zyo77yM6K+35Yig6Zmk5ZCO5YaN5a6J6KOF');}$åĮ֋ ="plugin/{$֥į֋ċĮï־֥֮}/Data/install.sql";if ($GLOBALS['zym_decrypt']['îÈ֋Ëîî֎Ô']($åĮ֋)){$֥þËþ֥Î =$GLOBALS['zym_decrypt']['Ĉĥ־Î']($åĮ֋);$֥þËþ֥Î =$GLOBALS['zym_decrypt']['îֈîå֋']($GLOBALS['zym_decrypt']['Ĕ֮Ô֎ïį']($֥þËþ֥Î ));$ĥîÔ =$GLOBALS['zym_decrypt']['ċľ־Ôî֔Ď'](";", $֥þËþ֥Î );if (!empty($ĥîÔ)&& $GLOBALS['zym_decrypt']['þ֋֯֋֋']($ĥîÔ)){$åֈþ֥ =$GLOBALS['zym_decrypt']['ïïþĮĔÎ']();$֔þįîį־֥ =$GLOBALS['zym_decrypt']['֯֎֮ľ֋î']($ĥîÔ );if(1 <$֔þįîį־֥){foreach($ĥîÔ as $þî => $å֮ֈ֔){$å֮ֈ֔ =$GLOBALS['zym_decrypt']['îֈîå֋']($å֮ֈ֔);if (!empty($å֮ֈ֔)){$ËĎ־ïÈ =$GLOBALS['zym_decrypt']['ïïþĮĔÎ']()->execute($å֮ֈ֔);}if (FALSE === $ËĎ־ïÈ){$this->success(base64_decode('U1FM6K+t5Y+l5omn6KGM5aSx6LSlITxicj4=') );}}}else{$åֈþ֥->query($å֮ֈ֔ );}$֔Èċ֥þî֔Î =$åֈþ֥->getLastSql();}else{$this->ajaxReturn(0,base64_decode('5a6J6KOFU1FM5paH5Lu26ZSZ6K+v'));}}$־îÔľ֎Î =require base64_decode('cGx1Z2luLw==') . $֥į֋ċĮï־֥֮ . base64_decode('L0NvbmZpZy9jb25maWcucGhw');$־îÔľ֎Î =$GLOBALS['zym_decrypt']['֥Ô֋ֈ֥']($־îÔľ֎Î);$־îÔľ֎Î[base64_decode('YXBw')] =$֥į֋ċĮï־֥֮;$־îÔľ֎Î[base64_decode('aW5zdGFsbF90aW1l')] =$GLOBALS['zym_decrypt']['֮įþĔ'](base64_decode('WS1tLWQ='));if ($this -> _db -> add($־îÔľ֎Î)){$־îÔľ֎Î =array(base64_decode('bmFtZQ==') => $־îÔľ֎Î[base64_decode('bmFtZQ==')], base64_decode('bW9kdWxlX25hbWU=') => base64_decode('cGx1Z2lu'), base64_decode('YWN0aW9uX25hbWU=') => $֥į֋ċĮï־֥֮, base64_decode('cGlk') => 333, );$GLOBALS['zym_decrypt']['ïïþĮĔÎ'](base64_decode('bWVudQ=='))-> add($־îÔľ֎Î);$this->ajaxReturn(1,base64_decode('5o+S5Lu25a6J6KOF5oiQ5Yqf'));}else {$this->ajaxReturn(0,base64_decode('5o+S5Lu25a6J6KOF5aSx6LSl'));}}else {$ÈîÔĮ־Ĕ =$GLOBALS['zym_decrypt']['֥Ô֋ֈ֥'](require base64_decode('cGx1Z2luLw==').$֥į֋ċĮï־֥֮.base64_decode('L0NvbmZpZy9jb25maWcucGhw'));$ÈîÔĮ־Ĕ[base64_decode('cGx1Z2lu')] =$֥į֋ċĮï־֥֮;$this -> field =$ÈîÔĮ־Ĕ;$this -> display();}}public function uninstall(){$֥į֋ċĮï־֥֮ =$GLOBALS['zym_decrypt']['îîĥ']('plugin');if (!$֥į֋ċĮï־֥֮){$this->ajaxReturn(0,base64_decode('5Y+C5pWw6ZSZ6K+v'));exit;}if (IS_POST){$֮֋֥ċ ="plugin/{$֥į֋ċĮï־֥֮}/Data/uninstall.sql";if ($GLOBALS['zym_decrypt']['îÈ֋Ëîî֎Ô']($֮֋֥ċ)){$֥þËþ֥Î =$GLOBALS['zym_decrypt']['Ĉĥ־Î']($֮֋֥ċ);$֥þËþ֥Î =$GLOBALS['zym_decrypt']['îֈîå֋']($GLOBALS['zym_decrypt']['Ĕ֮Ô֎ïį']($֥þËþ֥Î ));$ĥîÔ =$GLOBALS['zym_decrypt']['ċľ־Ôî֔Ď'](";", $֥þËþ֥Î );if (!empty($ĥîÔ)&& $GLOBALS['zym_decrypt']['þ֋֯֋֋']($ĥîÔ)){$åֈþ֥ =$GLOBALS['zym_decrypt']['ïïþĮĔÎ']();$֔þįîį־֥ =$GLOBALS['zym_decrypt']['֯֎֮ľ֋î']($ĥîÔ );if(1 <$֔þįîį־֥){foreach($ĥîÔ as $þî => $å֮ֈ֔){$å֮ֈ֔ =$GLOBALS['zym_decrypt']['îֈîå֋']($å֮ֈ֔);if (!empty($å֮ֈ֔)){$ËĎ־ïÈ =$GLOBALS['zym_decrypt']['ïïþĮĔÎ']()->execute($å֮ֈ֔);}if (FALSE === $ËĎ־ïÈ){$this->success(base64_decode('U1FM6K+t5Y+l5omn6KGM5aSx6LSlIQ==') );}}}else{$åֈþ֥->query($å֮ֈ֔ );}$֔Èċ֥þî֔Î =$åֈþ֥->getLastSql();}else{$this->ajaxReturn(0,base64_decode('5Y246L29U1FM5paH5Lu26ZSZ6K+v'));}}$this ->_db->where("app='$֥į֋ċĮï־֥֮'")->delete();$GLOBALS['zym_decrypt']['ïïþĮĔÎ'](base64_decode('bWVudQ=='))->where(array(base64_decode('bW9kdWxlX25hbWU=') =>base64_decode('UGx1Z2lu'), base64_decode('YWN0aW9uX25hbWU=') => $֥į֋ċĮï־֥֮))-> delete();if ($GLOBALS['zym_decrypt']['îîĥ'](base64_decode('ZGVsX2Rpcg=='))){if (!ftxia_dir::$GLOBALS['zym_decrypt']['֋֋ֈ־ÔĮ'](base64_decode('cGx1Z2luLw==') . $֥į֋ċĮï־֥֮)){$this->ajaxReturn(0,base64_decode('5o+S5Lu255uu5b2V5Yig6Zmk5aSx6LSl'));}}$this -> ajaxReturn(1,base64_decode('5o+S5Lu25Y246L295oiQ5Yqf'));}else {$ÈîÔĮ־Ĕ =$GLOBALS['zym_decrypt']['֥Ô֋ֈ֥'](require base64_decode('cGx1Z2luLw==') . $֥į֋ċĮï־֥֮ . base64_decode('L0NvbmZpZy9jb25maWcucGhw'));$ÈîÔĮ־Ĕ[base64_decode('cGx1Z2lu')] =$֥į֋ċĮï־֥֮;$this -> assign(base64_decode('ZmllbGQ='), $ÈîÔĮ־Ĕ);$this -> display();}}public function help(){$֥į֋ċĮï־֥֮ =$GLOBALS['zym_decrypt']['îîĥ']('plugin');$ĈċîË֎åĈÈ =base64_decode('cGx1Z2luLw==') . $֥į֋ċĮï־֥֮ . base64_decode('L0RhdGEvaGVscC5waHA=');if ($GLOBALS['zym_decrypt']['îÈ֋Ëîî֎Ô']($ĈċîË֎åĈÈ)){$this -> help =file_get_contents($ĈċîË֎åĈÈ);$this -> display();}}public function add(){$þֈ֋ =$this->_get('action');$ĥ֋Î֥ =$GLOBALS['zym_decrypt']['ïïþĮĔÎ']($þֈ֋);if (IS_POST){if (false === $־îÔľ֎Î =$ĥ֋Î֥->create()){IS_AJAX && $this->ajaxReturn(5, $ĥ֋Î֥->getError());$this->error($ĥ֋Î֥->getError());}if($ĥ֋Î֥->add($־îÔľ֎Î)){IS_AJAX && $this->ajaxReturn(1, L(base64_decode('b3BlcmF0aW9uX3N1Y2Nlc3M=')), '', base64_decode('YWRk'));$this->success(L(base64_decode('b3BlcmF0aW9uX3N1Y2Nlc3M=')));}else {$GLOBALS['zym_decrypt']['֮Į֯ֈ']($־îÔľ֎Î);IS_AJAX && $this->ajaxReturn(9, L(base64_decode('b3BlcmF0aW9uX2ZhaWx1cmU=')));$this->error(L(base64_decode('b3BlcmF0aW9uX2ZhaWx1cmU=')));}}else {$this->assign(base64_decode('b3Blbl92YWxpZGF0b3I='), true);if (IS_AJAX){$Ĕֈïċ =$this->fetch();$this->ajaxReturn(1, '', $Ĕֈïċ);}else {$this->display();}}}public function ajax_check_name(){$þֈ֋ =$GLOBALS['zym_decrypt']['îîĥ']('action');$ĥ֋Î֥ =$GLOBALS['zym_decrypt']['֮֋Ô']($þֈ֋);$֯֋îÈ֯ =$GLOBALS['zym_decrypt']['îîĥ'](base64_decode('bmFtZQ=='));$֎֔Ĕ֎֯Î֔ =$GLOBALS['zym_decrypt']['îîĥ'](base64_decode('Y2xpZW50aWQ='));if ($ĥ֋Î֥->where(array($֎֔Ĕ֎֯Î֔=>$֯֋îÈ֯))->find()){$this->ajaxReturn(0, base64_decode('5bey57uP5a2Y5Zyo'));}else {$this->ajaxReturn();}}public function edit(){$þֈ֋ =$this->_get('action');$ĥ֋Î֥ =$GLOBALS['zym_decrypt']['֮֋Ô']($þֈ֋);$îïĮ֔ċË =$ĥ֋Î֥->getPk();if (IS_POST){if (false === $־îÔľ֎Î =$ĥ֋Î֥->create()){IS_AJAX && $this->ajaxReturn(0, $ĥ֋Î֥->getError());$this->error($ĥ֋Î֥->getError());}if ($GLOBALS['zym_decrypt']['þ֔Ĉ֥֎֮']($this, base64_decode('X2JlZm9yZV91cGRhdGU='))){$־îÔľ֎Î =$this->_before_update($־îÔľ֎Î);}if (false !== $ĥ֋Î֥->save($־îÔľ֎Î)){if($GLOBALS['zym_decrypt']['þ֔Ĉ֥֎֮']($this, base64_decode('X2FmdGVyX3VwZGF0ZQ=='))){$֎֔Ĕ֎֯Î֔ =$־îÔľ֎Î[base64_decode('aWQ=')];$this->_after_update($֎֔Ĕ֎֯Î֔);}IS_AJAX && $this->ajaxReturn(1, L(base64_decode('b3BlcmF0aW9uX3N1Y2Nlc3M=')), '', base64_decode('ZWRpdA=='));$this->success(L(base64_decode('b3BlcmF0aW9uX3N1Y2Nlc3M=')));}else {IS_AJAX && $this->ajaxReturn(0, L(base64_decode('b3BlcmF0aW9uX2ZhaWx1cmU=')));$this->error(L(base64_decode('b3BlcmF0aW9uX2ZhaWx1cmU=')));}}else {$֎֔Ĕ֎֯Î֔ =$this->_get($îïĮ֔ċË, base64_decode('aW50dmFs'));$Ë֋å֥֮ =$ĥ֋Î֥->find($֎֔Ĕ֎֯Î֔);$this->assign(base64_decode('aW5mbw=='), $Ë֋å֥֮);$this->assign(base64_decode('b3Blbl92YWxpZGF0b3I='), true);if (IS_AJAX){$Ĕ֮ =base64_decode('cGx1Z2luLw==').$þֈ֋.base64_decode('L1RwbC9lZGl0LnRwbA==');$å֎־Ĕ֥־ =$this->fetch($Ĕ֮);if(IS_AJAX){$this->ajaxReturn(1, '', $å֎־Ĕ֥־);}$this->display('','','',$å֎־Ĕ֥־);}else {$this->display();}}}public function ajax_edit(){$þֈ֋ =$GLOBALS['zym_decrypt']['îîĥ']('action');$ĥ֋Î֥ =$GLOBALS['zym_decrypt']['֮֋Ô']($þֈ֋);$îïĮ֔ċË =$ĥ֋Î֥->getPk();$֎֔Ĕ֎֯Î֔ =$this->_get($îïĮ֔ċË, base64_decode('aW50dmFs'));$ÈîÔĮ־Ĕ =$this->_get(base64_decode('ZmllbGQ='), base64_decode('dHJpbQ=='));$Î֥Ô =$this->_get(base64_decode('dmFs'), base64_decode('dHJpbQ=='));$ĥ֋Î֥->where(array($îïĮ֔ċË=>$֎֔Ĕ֎֯Î֔))->setField($ÈîÔĮ־Ĕ, $Î֥Ô);$this->ajaxReturn(1);}public function delete(){$þֈ֋ =$GLOBALS['zym_decrypt']['îîĥ']('action');$ĥ֋Î֥ =$GLOBALS['zym_decrypt']['֮֋Ô']($þֈ֋);$îïĮ֔ċË =$ĥ֋Î֥->getPk();$ï־־ֈį֥ľ =$GLOBALS['zym_decrypt']['îֈîå֋']($this->_request($îïĮ֔ċË), ',');if ($ï־־ֈį֥ľ){if (false !== $ĥ֋Î֥->delete($ï־־ֈį֥ľ)){IS_AJAX && $this->ajaxReturn(1, L(base64_decode('b3BlcmF0aW9uX3N1Y2Nlc3M=')));$this->success(L(base64_decode('b3BlcmF0aW9uX3N1Y2Nlc3M=')));}else {IS_AJAX && $this->ajaxReturn(0, L(base64_decode('b3BlcmF0aW9uX2ZhaWx1cmU=')));$this->error(L(base64_decode('b3BlcmF0aW9uX2ZhaWx1cmU=')));}}else {IS_AJAX && $this->ajaxReturn(0, L(base64_decode('aWxsZWdhbF9wYXJhbWV0ZXJz')));$this->error(L(base64_decode('aWxsZWdhbF9wYXJhbWV0ZXJz')));}}}